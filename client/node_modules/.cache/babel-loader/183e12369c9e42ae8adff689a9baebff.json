{"ast":null,"code":"import _defineProperty from\"/Users/macrock/Desktop/CodingDojo/MERNStack/Exam/pet-shelter/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/macrock/Desktop/CodingDojo/MERNStack/Exam/pet-shelter/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/macrock/Desktop/CodingDojo/MERNStack/Exam/pet-shelter/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{useParams,Link,useHistory}from\"react-router-dom\";import PetForm from'../components/PetForm';import CancelButton from'../components/Buttons/CancelButton';import HomeButton from'../components/Buttons/HomeButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Update=function Update(props){var _useState=useState({name:'',type:'',description:'',skill1:'',skill2:'',skill3:'',likes:0}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(id)).then(function(res){setForm(res.data);}).catch(function(err){return console.log(err);});},[]);var onChangeHandler=function onChangeHandler(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var history=useHistory();var updatePet=function updatePet(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/\".concat(id),form).then(function(res){console.log(res);history.push(\"/\");}).catch(function(err){console.log(err.response.data);setErrors(err.response.data.errors);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container formContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Pet\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updatePet,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",name:\"name\",value:form.name,onChange:onChangeHandler}),errors.name&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.name.properties.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type\",children:\"Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"type\",name:\"type\",value:form.type,onChange:onChangeHandler}),errors.type&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.type.properties.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",name:\"description\",value:form.description,onChange:onChangeHandler}),errors.description&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.description.properties.message})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill1\",children:\"Skill 1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"skill1\",name:\"skill1\",value:form.skill1,onChange:onChangeHandler}),errors.skill1&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.skill1.properties.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill2\",children:\"Skill 2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"skill2\",name:\"skill2\",value:form.skill2,onChange:onChangeHandler}),errors.skill2&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.skill2.properties.message})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"skill3\",children:\"Skill 3\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"skill3\",name:\"skill3\",value:form.skill3,onChange:onChangeHandler}),errors.skill3&&/*#__PURE__*/_jsx(\"div\",{className:\"alert-sm alert-danger\",children:errors.skill3.properties.message})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"}),/*#__PURE__*/_jsx(CancelButton,{})]})]})]});};export default Update;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","Link","useHistory","PetForm","CancelButton","HomeButton","Update","props","name","type","description","skill1","skill2","skill3","likes","form","setForm","errors","setErrors","id","get","then","res","data","catch","err","console","log","onChangeHandler","e","target","value","history","updatePet","preventDefault","put","push","response","properties","message"],"sources":["/Users/macrock/Desktop/CodingDojo/MERNStack/Exam/pet-shelter/client/src/views/Update.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { useParams, Link, useHistory } from \"react-router-dom\";\nimport PetForm from '../components/PetForm';\nimport CancelButton from '../components/Buttons/CancelButton';\nimport HomeButton from '../components/Buttons/HomeButton';\n    \nconst Update = (props) => {\n    const [form , setForm] = useState({\n        name: '',\n        type: '',\n        description: '',\n        skill1: '',\n        skill2: '',\n        skill3: '',\n        likes: 0\n    })\n\n    const [errors, setErrors] = useState({})\n    const { id } = useParams();\n\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${id}`)\n            .then(res => {\n                setForm(res.data)\n            })\n            .catch(err => console.log(err))\n    }, [])\n\n    const onChangeHandler = e => {\n        setForm({\n            ...form,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const history = useHistory();\n\n    const updatePet = e => {\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/pets/${id}`, form)\n            .then(res => {\n                console.log(res);\n                history.push(\"/\");\n            })\n            .catch(err => {\n                console.log(err.response.data);\n                setErrors(err.response.data.errors);\n            })\n    }\n\n    return (\n        <div className=\"container formContainer\">\n            <h1>Update Pet</h1>\n            <form onSubmit={updatePet}>\n            <div className=\"d-flex flex-row justify-content-between\">\n                    <div className=\"form\">\n                        <div className=\"form-group\">\n                            <label htmlFor=\"name\">Name</label>\n                            <input type=\"text\" className=\"form-control\" id=\"name\" name=\"name\" value={form.name} onChange={onChangeHandler} />\n                            {errors.name && <div className=\"alert-sm alert-danger\">{errors.name.properties.message}</div>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"type\">Type</label>\n                            <input type=\"text\" className=\"form-control\" id=\"type\" name=\"type\" value={form.type} onChange={onChangeHandler} />\n                            {errors.type && <div className=\"alert-sm alert-danger\">{errors.type.properties.message}</div>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"description\">Description</label>\n                            <input type=\"text\" className=\"form-control\" id=\"description\" name=\"description\" value={form.description} onChange={onChangeHandler} />\n                            {errors.description && <div className=\"alert-sm alert-danger\">{errors.description.properties.message}</div>}\n                        </div>\n                    </div>\n\n                    <div  className=\"form\">\n                        <div className=\"form-group\">\n                            <label htmlFor=\"skill1\">Skill 1</label>\n                            <input type=\"text\" className=\"form-control\" id=\"skill1\" name=\"skill1\" value={form.skill1} onChange={onChangeHandler} />\n                            {errors.skill1 && <div className=\"alert-sm alert-danger\">{errors.skill1.properties.message}</div>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"skill2\">Skill 2</label>\n                            <input type=\"text\" className=\"form-control\" id=\"skill2\" name=\"skill2\" value={form.skill2} onChange={onChangeHandler} />\n                            {errors.skill2 && <div className =\"alert-sm alert-danger\">{errors.skill2.properties.message}</div>}\n                        </div>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"skill3\">Skill 3</label>\n                            <input type=\"text\" className=\"form-control\" id=\"skill3\" name=\"skill3\" value={form.skill3} onChange={onChangeHandler} />\n                            {errors.skill3 && <div className=\"alert-sm alert-danger\">{errors.skill3.properties.message}</div>}\n                        </div>\n                    </div>\n                </div>\n                <div className=\"form-group\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Update</button>\n                    <CancelButton />\n                </div>\n            </form>\n        </div>\n    )\n}\n\n\nexport default Update;\n\n\n\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}